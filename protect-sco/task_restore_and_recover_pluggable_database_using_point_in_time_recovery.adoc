---
permalink: protect-sco/task_restore_and_recover_pluggable_database_using_point_in_time_recovery.html 
sidebar: sidebar 
keywords: PDB, pluggable database, restore, CDB, PITR, point-in-time recovery, RMAN 
summary: '컨테이너 데이터베이스 \(CDB\)의 다른 PDB에 영향을 주지 않고 손상되거나 삭제된 플러그형 데이터베이스(PDB)를 복원 및 복구할 수 있습니다. SnapCenter는 RMAN을 사용하여 PDB의 시점 복구\(PITR\)를 수행합니다.' 
---
= 시점 복구를 사용하여 플러그형 데이터베이스를 복원 및 복구합니다
:allow-uri-read: 
:icons: font
:imagesdir: ../media/


[role="lead"]
컨테이너 데이터베이스(CDB)의 다른 PDB에 영향을 주지 않고 손상되거나 삭제된 플러그형 데이터베이스(PDB)를 복원 및 복구할 수 있습니다. SnapCenter는 RMAN을 사용하여 PDB의 시점 복구(PITR)를 수행합니다.

* 시작하기 전에 *

* PDB의 PITR을 수행하는 데 필요한 백업은 카탈로그로 작성되어 마운트되어야 합니다.
+

NOTE: RAC 설정에서 RAC 설정의 모든 노드에서 PDB를 수동으로 닫아야 합니다(상태를 마운트된 상태로 변경).

* 플러그인을 비루트 사용자로 설치한 경우, prescpt 및 PostScript 디렉토리에 실행 권한을 수동으로 할당해야 합니다.


* 이 작업에 대한 정보 *

PITR 작동 중에 RMAN은 지정된 보조 대상에서 보조 인스턴스를 만듭니다. 보조 대상은 마운트 지점 또는 ASM 디스크 그룹일 수 있습니다. 마운트된 위치에 공간이 충분한 경우 전용 마운트 지점 대신 마운트된 위치 중 하나를 다시 사용할 수 있습니다.

PDB의 PITR을 수행하려면 날짜 및 시간 또는 SCN을 지정해야 합니다. RMAN은 데이터 파일을 포함하여 읽기 쓰기, 읽기 전용 또는 손실된 PDB를 복구할 수 있습니다.

다음 경우에만 복원 및 복구할 수 있습니다.

* 한 번에 PDB 한 개
* PDB의 테이블스페이스 하나
* 동일한 PDB의 여러 테이블스페이스입니다



NOTE: RAC 설정에서 RAC의 모든 노드에서 테이블스페이스의 PITR을 수행할 수 있습니다.

* 단계 *

. 왼쪽 탐색 창에서 * 리소스 * 를 클릭한 다음 목록에서 적절한 플러그인을 선택합니다.
. 리소스 페이지의 * 보기 * 목록에서 * 데이터베이스 * 또는 * 리소스 그룹 * 을 선택합니다.
. 데이터베이스 세부 정보 보기 또는 리소스 그룹 세부 정보 보기에서 단일 인스턴스 유형(멀티 테넌트) 데이터베이스를 선택합니다.
+
데이터베이스 토폴로지 페이지가 표시됩니다.

. 복사본 관리 보기에서 기본 또는 보조(미러링 또는 복제) 스토리지 시스템에서 * 백업 * 을 선택합니다.
+
백업이 카탈로그에 기재되지 않은 경우 백업을 선택하고 * Catalog * 를 클릭해야 합니다.

. 카탈로그 작성된 백업을 선택하고 * 를 클릭합니다image:../media/restore_icon.gif["복원 아이콘"]*.
. 복구 범위 페이지에서 다음 작업을 수행합니다.
+
.. RAC(Real Application Clusters) 환경에서 데이터베이스 백업을 선택한 경우 RAC 노드를 선택합니다.
.. PDB의 PDB 또는 테이블스페이스를 복원할지 여부에 따라 다음 작업 중 하나를 수행합니다.
+
|===


| 원하는 작업 | 단계... 


 a| 
PDB를 복원합니다
 a| 
... Pluggable databases (PDB) * 를 선택합니다.
... 복원할 PDB를 지정합니다.
+

NOTE: PDB$ 시드 데이터베이스에서 PITR을 수행할 수 없습니다.





 a| 
PDB에서 테이블스페이스를 복구합니다
 a| 
... Pluggable database (PDB) 테이블스페이스 * 를 선택합니다.
... PDB를 지정합니다.
... 복원할 단일 테이블스페이스 또는 여러 테이블스페이스를 지정합니다.
+

NOTE: SYSAUX, 시스템 및 실행 취소 테이블스페이스에서 PITR을 수행할 수 없습니다.



|===
.. 복원 및 복구에 필요한 경우 * 데이터베이스 상태 변경 * 을 선택하여 복원 및 복구 작업을 수행하는 데 필요한 상태로 데이터베이스의 상태를 변경합니다.


. 복구 범위 페이지에서 다음 작업 중 하나를 수행합니다.
+
** 특정 SCN(시스템 변경 번호)으로 복구하려면 SCN * 이 될 때까지 * 를 선택하고 SCN 및 보조 대상을 지정합니다.
** 특정 날짜 및 시간으로 복구하려면 * 날짜 및 시간 * 을 선택하고 날짜 및 시간과 보조 대상을 지정합니다.
+
SnapCenter는 지정된 SCN 또는 선택한 날짜 및 시간을 기반으로 PITR을 수행하는 데 필요한 최적의 데이터 및 로그 백업 수를 식별하고 카탈로그로 작성합니다.



. PreOps 페이지에서 복구 작업 전에 실행할 처방전의 경로와 인수를 입력합니다.
+
처방된 내용을 /var/opt/snapcenter/spl/scripts 경로 또는 이 경로 내의 폴더에 저장해야 합니다. 기본적으로 /var/opt/snapcenter/SPL/scripts 경로가 채워집니다. 스크립트를 저장하기 위해 이 경로 내에 폴더를 만든 경우 경로에 해당 폴더를 지정해야 합니다.

+
스크립트 시간 초과 값을 지정할 수도 있습니다. 기본값은 60초입니다.

+
SnapCenter에서는 처방과 PS를 실행할 때 미리 정의된 환경 변수를 사용할 수 있습니다. link:../protect-sco/predefined-environment-variables-prescript-postscript-restore.html["자세한 정보"^]

. PostOps 페이지에서 다음 단계를 수행하십시오.
+
.. 복원 작업 후에 실행할 PostScript의 경로와 인수를 입력합니다.
+

NOTE: 복원 작업이 실패하면 사후 스크립트가 실행되지 않고 정리 작업이 직접 트리거됩니다.

.. 복구 후 데이터베이스를 열려면 이 확인란을 선택합니다.
+
RAC 설정에서는 데이터베이스가 복구된 노드에서만 PDB가 열립니다. RAC 설정의 다른 모든 노드에서 복구된 PDB를 수동으로 열어야 합니다.



. 알림 페이지의 * 이메일 기본 설정 * 드롭다운 목록에서 이메일 알림을 보낼 시나리오를 선택합니다.
. 요약을 검토하고 * Finish * 를 클릭합니다.
. 모니터 * > * 작업 * 을 클릭하여 작업 진행 상황을 모니터링합니다.

